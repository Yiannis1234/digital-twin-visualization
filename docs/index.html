<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Thread Research Visualization</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="static/css/main.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f9fafc;
            color: #333;
        }
        
        .main-header {
            background: linear-gradient(135deg, #1a2a6c, #2a4858);
            color: white;
            padding: 25px 0;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .main-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuIiB4PSIwIiB5PSIwIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSgzMCkiPjxwYXRoIGQ9Ik0gMCwxMCBMIDQwLDEwIiBzdHJva2U9InJnYmEoMjU1LDI1NSwyNTUsMC4xKSIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjcGF0dGVybikiLz48L3N2Zz4=');
            opacity: 0.2;
        }
        
        .header-content {
            position: relative;
            z-index: 10;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .logo {
            width: 50px;
            height: 50px;
            margin-right: 15px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        
        .logo-inner {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: linear-gradient(135deg, #36a2eb, #4bc0c0);
            position: relative;
            overflow: hidden;
        }
        
        .logo-inner::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: rgba(255,255,255,0.7);
            box-shadow: 0 0 5px rgba(255,255,255,0.7);
        }
        
        .department-tag {
            font-size: 13px;
            color: rgba(255,255,255,0.8);
            letter-spacing: 1px;
            text-transform: uppercase;
            margin-bottom: 5px;
        }
        
        .main-title {
            font-size: 30px !important;
            font-weight: 700 !important;
            margin-bottom: 5px !important;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .subtitle {
            font-size: 16px !important;
            font-weight: 400 !important;
            color: rgba(255,255,255,0.9);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .card {
            border: none;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            box-shadow: 0 6px 16px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }
        
        .section-title {
            font-weight: 600;
            position: relative;
            padding-bottom: 10px;
            margin-bottom: 15px;
            color: #2c3e50;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 40px;
            height: 3px;
            background: linear-gradient(to right, #36a2eb, #4bc0c0);
            border-radius: 3px;
        }
        
        /* Digital Thread Visualization Styles */
        .digital-thread-visualization {
            position: relative;
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            overflow: hidden;
        }
        
        .digital-thread-title {
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            color: #343a40;
            margin-bottom: 20px;
        }
        
        .digital-thread-container {
            position: relative;
            height: 180px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .manufacturing-stage {
            position: absolute;
            width: 120px;
            height: 60px;
            background-color: white;
            border: 2px solid #1976D2;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 13px;
            font-weight: bold;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 2;
            transition: all 0.3s ease;
            color: #1d3557; /* Dark blue text color for contrast */
            overflow: hidden;
            padding: 5px;
            line-height: 1.2;
        }
        
        .flow-path {
            position: absolute;
            height: 4px;
            background-color: rgba(54, 162, 235, 0.8);
            top: 50%;
            left: 0;
            right: 0;
            transform: translateY(-50%);
            z-index: 0;
            border-radius: 2px;
        }
        
        .flow-direction {
            position: absolute;
            right: 20px;
            top: 20px;
            display: flex;
            align-items: center;
            z-index: 3;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 5px 10px;
            border-radius: 15px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }
        
        .arrow-right {
            width: 0;
            height: 0;
            border-top: 8px solid transparent;
            border-bottom: 8px solid transparent;
            border-left: 12px solid #36a2eb;
            margin-right: 5px;
        }
        
        .flow-label {
            font-size: 12px;
            font-weight: bold;
            color: #333;
        }
        
        .data-flow {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #36a2eb;
            border-radius: 50%;
            z-index: 1;
            box-shadow: 0 0 5px rgba(54, 162, 235, 0.8);
        }
        
        .stage-alert {
            position: absolute;
            top: -10px;
            right: -10px;
            width: 20px;
            height: 20px;
            background-color: #d32f2f;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
            z-index: 3;
        }
        
        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 10px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin: 0 10px 5px;
        }
        
        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 3px;
            margin-right: 5px;
        }
        
        /* Chart styles */
        .chart-container {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 3px 15px rgba(0,0,0,0.08);
            height: 220px;
            position: relative;
            overflow: hidden;
            border-top: 3px solid transparent;
            transition: all 0.3s ease;
        }
        
        .chart-container:nth-child(1) {
            border-top-color: rgb(255, 99, 132);
        }
        
        .chart-container:nth-child(2) {
            border-top-color: rgb(54, 162, 235);
        }
        
        .chart-container:nth-child(3) {
            border-top-color: rgb(75, 192, 192);
        }
        
        .chart-container:nth-child(4) {
            border-top-color: rgb(255, 205, 86);
        }
        
        .chart-container:hover {
            box-shadow: 0 5px 20px rgba(0,0,0,0.12);
            transform: translateY(-2px);
        }
        
        .chart-title {
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 14px;
            display: flex;
            align-items: center;
        }
        
        .chart-title::before {
            content: '';
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 4px;
            margin-right: 8px;
        }
        
        .chart-container:nth-child(1) .chart-title::before {
            background-color: rgb(255, 99, 132);
        }
        
        .chart-container:nth-child(2) .chart-title::before {
            background-color: rgb(54, 162, 235);
        }
        
        .chart-container:nth-child(3) .chart-title::before {
            background-color: rgb(75, 192, 192);
        }
        
        .chart-container:nth-child(4) .chart-title::before {
            background-color: rgb(255, 205, 86);
        }
        
        @keyframes flowAnimation {
            0% { transform: translateX(0); }
            100% { transform: translateX(100vw); }
        }
        
        .data-flow {
            animation: flowAnimation 5s linear infinite;
        }
        
        /* Findings Card Styles */
        .finding-card {
            display: flex;
            background-color: white;
            border-radius: 8px;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.03);
            border-left: 3px solid transparent;
            transition: all 0.3s ease;
        }
        
        .finding-card:hover {
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            transform: translateY(-2px);
        }
        
        .finding-card:nth-child(1) {
            border-left-color: rgb(255, 99, 132);
        }
        
        .finding-card:nth-child(2) {
            border-left-color: rgb(54, 162, 235);
        }
        
        .finding-card:nth-child(3) {
            border-left-color: rgb(75, 192, 192);
        }
        
        .finding-card:nth-child(4) {
            border-left-color: rgb(255, 205, 86);
        }
        
        .finding-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            flex-shrink: 0;
        }
        
        .finding-content {
            flex-grow: 1;
        }
        
        .finding-content h4 {
            margin-bottom: 5px;
            color: #2c3e50;
        }
        
        .finding-content p {
            margin-bottom: 0;
            color: #636e72;
        }
        
        /* References Section Styles */
        .references-list {
            padding-left: 15px;
        }
        
        .references-list li {
            margin-bottom: 12px;
            font-size: 13px;
            line-height: 1.5;
            color: #2c3e50;
            position: relative;
            padding-left: 5px;
        }
        
        .references-list li em {
            color: #555;
            font-style: italic;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment@1.0.1/dist/chartjs-adapter-moment.min.js"></script>
</head>
<body>
    <header class="main-header">
        <div class="container header-content">
            <div class="logo-container d-flex justify-content-center">
                <div class="logo">
                    <div class="logo-inner"></div>
                </div>
                <div class="d-none d-md-block">
                    <div class="department-tag">School of Engineering • Dissertation Project</div>
                </div>
            </div>
            <h1 class="main-title text-center">Digital Thread Visualization Framework</h1>
            <p class="subtitle text-center">Advanced analytics and visualization of product lifecycle management in the automotive industry, enabling data-driven traceability and decision-making across manufacturing supply chains</p>
        </div>
    </header>

    <div class="container mb-5">
        <div class="row">
            <div class="col-md-8">
                <!-- Introduction -->
                <div class="card mb-3">
                    <div class="card-body">
                        <h3 class="section-title">What are Digital Threads?</h3>
                        <p class="card-text">
                            Digital threads create a continuous flow of data connecting all stages of a product's lifecycle.
                            In automotive manufacturing, they link raw materials sourcing through component manufacturing, 
                            assembly, quality control, and after-sales service, enabling complete traceability and data-driven decision making.
                        </p>
                    </div>
                </div>
                
                <!-- How It Works -->
                <div class="card mb-3">
                    <div class="card-body">
                        <h3 class="section-title">How This Visualization Works</h3>
                        <div class="row">
                            <div class="col-md-6">
                                <h4 class="h6 fw-bold">Real-time Data Simulation</h4>
                                <p class="card-text">
                                    This tool simulates real-time data flow across automotive manufacturing stages.
                                    The system continuously generates data points representing:
                                </p>
                                <ul class="card-text small">
                                    <li><strong>System Load:</strong> Processing capacity across systems (20-100%)</li>
                                    <li><strong>Network Latency:</strong> Communication delays between systems (20-150ms)</li>
                                    <li><strong>Data Throughput:</strong> Volume of data processed (0-1000 Mbps)</li>
                                    <li><strong>Traceability Health:</strong> Overall health of the digital thread (0-100%)</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h4 class="h6 fw-bold">Relationships Between Parameters</h4>
                                <p class="card-text small">
                                    Parameters influence each other in realistic ways:
                                </p>
                                <ul class="card-text small">
                                    <li>Higher system load increases network latency</li>
                                    <li>Higher latency reduces data throughput</li>
                                    <li>Lower throughput affects traceability health</li>
                                    <li>Use the sliders to adjust these parameters and observe the effects</li>
                                </ul>
                                <p class="card-text small mt-2">
                                    <strong>TIP:</strong> Watch how your adjustments affect the manufacturing stages, 
                                    data flow particles, stakeholder connections, and charts in real-time!
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            
                <!-- Digital Thread Visualization -->
                <div class="digital-thread-visualization">
                    <div class="digital-thread-title">Digital Thread Across Automotive Supply Chain</div>
                    
                    <!-- Product Lifecycle Management Dashboard -->
                    <div class="plm-dashboard" style="
                        background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
                        border-radius: 12px;
                        padding: 25px;
                        color: white;
                        margin-top: 15px;
                        box-shadow: 0 10px 20px rgba(0,0,0,0.2);
                    ">
                        <div style="text-align: center; margin-bottom: 20px;">
                            <h4 style="font-weight: 700; margin-bottom: 5px; font-size: 22px;">Product Lifecycle Management</h4>
                            <p style="font-size: 15px;">Complete vehicle digital thread from design to end-of-life</p>
                        </div>
                        
                        <!-- PLM Flow Diagram -->
                        <div style="position: relative; margin-bottom: 25px; padding: 10px 0;">
                            <!-- Flow Arrow -->
                            <div style="
                                height: 12px;
                                background: rgba(255,255,255,0.2);
                                border-radius: 6px;
                                position: relative;
                                margin: 10px 0 30px;
                                z-index: 1;
                            ">
                                <div style="
                                    position: absolute;
                                    height: 100%;
                                    width: 100%;
                                    background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
                                    border-radius: 6px;
                                    animation: progressPulse 3s infinite alternate;
                                "></div>
                            </div>
                            
                            <!-- PLM Stage Markers -->
                            <div style="
                                display: flex;
                                justify-content: space-between;
                                margin-top: -25px;
                                position: relative;
                                z-index: 2;
                            ">
                                <div style="
                                    background: rgba(0,0,0,0.3);
                                    border-radius: 50%;
                                    width: 14px;
                                    height: 14px;
                                    position: relative;
                                ">
                                    <div style="
                                        background: #ff6384;
                                        border-radius: 50%;
                                        width: 10px;
                                        height: 10px;
                                        position: absolute;
                                        top: 2px;
                                        left: 2px;
                                    "></div>
                                </div>
                                
                                <div style="
                                    background: rgba(0,0,0,0.3);
                                    border-radius: 50%;
                                    width: 14px;
                                    height: 14px;
                                    position: relative;
                                ">
                                    <div style="
                                        background: #36a2eb;
                                        border-radius: 50%;
                                        width: 10px;
                                        height: 10px;
                                        position: absolute;
                                        top: 2px;
                                        left: 2px;
                                    "></div>
                                </div>
                                
                                <div style="
                                    background: rgba(0,0,0,0.3);
                                    border-radius: 50%;
                                    width: 14px;
                                    height: 14px;
                                    position: relative;
                                ">
                                    <div style="
                                        background: #4bc0c0;
                                        border-radius: 50%;
                                        width: 10px;
                                        height: 10px;
                                        position: absolute;
                                        top: 2px;
                                        left: 2px;
                                    "></div>
                                </div>
                                
                                <div style="
                                    background: rgba(0,0,0,0.3);
                                    border-radius: 50%;
                                    width: 14px;
                                    height: 14px;
                                    position: relative;
                                ">
                                    <div style="
                                        background: #ffcd56;
                                        border-radius: 50%;
                                        width: 10px;
                                        height: 10px;
                                        position: absolute;
                                        top: 2px;
                                        left: 2px;
                                    "></div>
                                </div>
                                
                                <div style="
                                    background: rgba(0,0,0,0.3);
                                    border-radius: 50%;
                                    width: 14px;
                                    height: 14px;
                                    position: relative;
                                ">
                                    <div style="
                                        background: #9966ff;
                                        border-radius: 50%;
                                        width: 10px;
                                        height: 10px;
                                        position: absolute;
                                        top: 2px;
                                        left: 2px;
                                    "></div>
                                </div>
                            </div>
                            
                            <!-- PLM Stage Labels -->
                            <div style="
                                display: flex;
                                justify-content: space-between;
                                text-align: center;
                                margin-top: 8px;
                                font-size: 9px;
                                font-weight: 600;
                            ">
                                <div style="width: 70px;">DESIGN &<br>ENGINEERING</div>
                                <div style="width: 70px;">SOURCING &<br>PLANNING</div>
                                <div style="width: 70px;">PRODUCTION &<br>ASSEMBLY</div>
                                <div style="width: 70px;">DISTRIBUTION &<br>RETAIL</div>
                                <div style="width: 70px;">SERVICE &<br>END-OF-LIFE</div>
                            </div>
                        </div>
                        
                        <!-- PLM Stats Grid -->
                        <div style="
                            display: grid;
                            grid-template-columns: repeat(5, 1fr);
                            gap: 15px;
                            margin-bottom: 25px;
                        ">
                            <!-- Design & Engineering Stage -->
                            <div style="
                                background: rgba(0,0,0,0.2);
                                border-radius: 10px;
                                padding: 15px;
                                border-left: 4px solid #ff6384;
                            ">
                                <div style="
                                    display: flex;
                                    justify-content: space-between;
                                    align-items: center;
                                    margin-bottom: 10px;
                                ">
                                    <div style="font-weight: 700; font-size: 12px;">Design</div>
                                    <div style="
                                        background: #ff6384;
                                        font-size: 9px;
                                        padding: 2px 5px;
                                        border-radius: 8px;
                                        font-weight: 700;
                                    ">ACTIVE</div>
                                </div>
                                
                                <div style="font-size: 18px; font-weight: 800; margin-bottom: 3px;">253</div>
                                <div style="font-size: 9px; opacity: 0.7;">Design Changes</div>
                                
                                <div style="
                                    display: flex;
                                    justify-content: space-between;
                                    margin-top: 8px;
                                    font-size: 9px;
                                ">
                                    <div>Completion:</div>
                                    <div style="font-weight: 700;">95%</div>
                                </div>
                                
                                <div style="
                                    height: 4px;
                                    background: rgba(255,255,255,0.2);
                                    border-radius: 2px;
                                    margin-top: 5px;
                                    overflow: hidden;
                                ">
                                    <div style="
                                        height: 100%;
                                        width: 95%;
                                        background: #ff6384;
                                        border-radius: 2px;
                                    "></div>
                                </div>
                            </div>
                            
                            <!-- Sourcing & Planning Stage -->
                            <div style="
                                background: rgba(0,0,0,0.2);
                                border-radius: 10px;
                                padding: 15px;
                                border-left: 4px solid #36a2eb;
                            ">
                                <div style="
                                    display: flex;
                                    justify-content: space-between;
                                    align-items: center;
                                    margin-bottom: 10px;
                                ">
                                    <div style="font-weight: 700; font-size: 12px;">Sourcing</div>
                                    <div style="
                                        background: #36a2eb;
                                        font-size: 9px;
                                        padding: 2px 5px;
                                        border-radius: 8px;
                                        font-weight: 700;
                                    ">ACTIVE</div>
                                </div>
                                
                                <div style="font-size: 18px; font-weight: 800; margin-bottom: 3px;">42</div>
                                <div style="font-size: 9px; opacity: 0.7;">Suppliers Connected</div>
                                
                                <div style="
                                    display: flex;
                                    justify-content: space-between;
                                    margin-top: 8px;
                                    font-size: 9px;
                                ">
                                    <div>Supply Chain:</div>
                                    <div style="font-weight: 700;">88%</div>
                                </div>
                                
                                <div style="
                                    height: 4px;
                                    background: rgba(255,255,255,0.2);
                                    border-radius: 2px;
                                    margin-top: 5px;
                                    overflow: hidden;
                                ">
                                    <div style="
                                        height: 100%;
                                        width: 88%;
                                        background: #36a2eb;
                                        border-radius: 2px;
                                    "></div>
                                </div>
                            </div>
                            
                            <!-- Production & Assembly Stage -->
                            <div style="
                                background: rgba(0,0,0,0.2);
                                border-radius: 10px;
                                padding: 15px;
                                border-left: 4px solid #4bc0c0;
                            ">
                                <div style="
                                    display: flex;
                                    justify-content: space-between;
                                    align-items: center;
                                    margin-bottom: 10px;
                                ">
                                    <div style="font-weight: 700; font-size: 12px;">Production</div>
                                    <div style="
                                        background: #4bc0c0;
                                        font-size: 9px;
                                        padding: 2px 5px;
                                        border-radius: 8px;
                                        font-weight: 700;
                                    ">ACTIVE</div>
                                </div>
                                
                                <div style="font-size: 18px; font-weight: 800; margin-bottom: 3px;">1,248</div>
                                <div style="font-size: 9px; opacity: 0.7;">Units in Production</div>
                                
                                <div style="
                                    display: flex;
                                    justify-content: space-between;
                                    margin-top: 8px;
                                    font-size: 9px;
                                ">
                                    <div>Yield Rate:</div>
                                    <div style="font-weight: 700;">93%</div>
                                </div>
                                
                                <div style="
                                    height: 4px;
                                    background: rgba(255,255,255,0.2);
                                    border-radius: 2px;
                                    margin-top: 5px;
                                    overflow: hidden;
                                ">
                                    <div style="
                                        height: 100%;
                                        width: 93%;
                                        background: #4bc0c0;
                                        border-radius: 2px;
                                    "></div>
                                </div>
                            </div>
                            
                            <!-- Distribution & Retail Stage -->
                            <div style="
                                background: rgba(0,0,0,0.2);
                                border-radius: 10px;
                                padding: 15px;
                                border-left: 4px solid #ffcd56;
                            ">
                                <div style="
                                    display: flex;
                                    justify-content: space-between;
                                    align-items: center;
                                    margin-bottom: 10px;
                                ">
                                    <div style="font-weight: 700; font-size: 12px;">Distribution</div>
                                    <div style="
                                        background: #ffcd56;
                                        font-size: 9px;
                                        padding: 2px 5px;
                                        border-radius: 8px;
                                        font-weight: 700;
                                    ">ACTIVE</div>
                                </div>
                                
                                <div style="font-size: 18px; font-weight: 800; margin-bottom: 3px;">824</div>
                                <div style="font-size: 9px; opacity: 0.7;">Vehicles in Transit</div>
                                
                                <div style="
                                    display: flex;
                                    justify-content: space-between;
                                    margin-top: 8px;
                                    font-size: 9px;
                                ">
                                    <div>On-Time Delivery:</div>
                                    <div style="font-weight: 700;">97%</div>
                                </div>
                                
                                <div style="
                                    height: 4px;
                                    background: rgba(255,255,255,0.2);
                                    border-radius: 2px;
                                    margin-top: 5px;
                                    overflow: hidden;
                                ">
                                    <div style="
                                        height: 100%;
                                        width: 97%;
                                        background: #ffcd56;
                                        border-radius: 2px;
                                    "></div>
                                </div>
                            </div>
                            
                            <!-- Service & End-of-Life Stage -->
                            <div style="
                                background: rgba(0,0,0,0.2);
                                border-radius: 10px;
                                padding: 15px;
                                border-left: 4px solid #9966ff;
                            ">
                                <div style="
                                    display: flex;
                                    justify-content: space-between;
                                    align-items: center;
                                    margin-bottom: 10px;
                                ">
                                    <div style="font-weight: 700; font-size: 12px;">Service</div>
                                    <div style="
                                        background: #9966ff;
                                        font-size: 9px;
                                        padding: 2px 5px;
                                        border-radius: 8px;
                                        font-weight: 700;
                                    ">ACTIVE</div>
                                </div>
                                
                                <div style="font-size: 18px; font-weight: 800; margin-bottom: 3px;">24K</div>
                                <div style="font-size: 9px; opacity: 0.7;">Service Records</div>
                                
                                <div style="
                                    display: flex;
                                    justify-content: space-between;
                                    margin-top: 8px;
                                    font-size: 9px;
                                ">
                                    <div>Customer Sat:</div>
                                    <div style="font-weight: 700;">91%</div>
                                </div>
                                
                                <div style="
                                    height: 4px;
                                    background: rgba(255,255,255,0.2);
                                    border-radius: 2px;
                                    margin-top: 5px;
                                    overflow: hidden;
                                ">
                                    <div style="
                                        height: 100%;
                                        width: 91%;
                                        background: #9966ff;
                                        border-radius: 2px;
                                    "></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- PLM Metrics -->
                        <div style="
                            display: flex;
                            justify-content: space-between;
                            margin-bottom: 15px;
                        ">
                            <div style="
                                background: rgba(255,255,255,0.1);
                                padding: 10px 15px;
                                border-radius: 8px;
                                text-align: center;
                                flex: 1;
                                margin-right: 15px;
                            ">
                                <div style="font-size: 10px; margin-bottom: 4px;">Time to Market</div>
                                <div style="font-size: 15px; font-weight: 700;">14.3 mos</div>
                                <div style="font-size: 8px; color: #4bc0c0;">▼ 2.1 mos YoY</div>
                            </div>
                            
                            <div style="
                                background: rgba(255,255,255,0.1);
                                padding: 10px 15px;
                                border-radius: 8px;
                                text-align: center;
                                flex: 1;
                                margin-right: 15px;
                            ">
                                <div style="font-size: 10px; margin-bottom: 4px;">Design Changes</div>
                                <div style="font-size: 15px; font-weight: 700;">-37%</div>
                                <div style="font-size: 8px; color: #4bc0c0;">▼ Improved</div>
                            </div>
                            
                            <div style="
                                background: rgba(255,255,255,0.1);
                                padding: 10px 15px;
                                border-radius: 8px;
                                text-align: center;
                                flex: 1;
                                margin-right: 15px;
                            ">
                                <div style="font-size: 10px; margin-bottom: 4px;">First Time Quality</div>
                                <div style="font-size: 15px; font-weight: 700;">93.2%</div>
                                <div style="font-size: 8px; color: #4bc0c0;">▲ 1.7% YoY</div>
                            </div>
                            
                            <div style="
                                background: rgba(255,255,255,0.1);
                                padding: 10px 15px;
                                border-radius: 8px;
                                text-align: center;
                                flex: 1;
                            ">
                                <div style="font-size: 10px; margin-bottom: 4px;">Warranty Claims</div>
                                <div style="font-size: 15px; font-weight: 700;">-24%</div>
                                <div style="font-size: 8px; color: #4bc0c0;">▼ Improved</div>
                            </div>
                        </div>
                        
                        <!-- PLM Status Bar -->
                        <div style="
                            background: rgba(0,0,0,0.3);
                            border-radius: 8px;
                            padding: 12px 15px;
                            display: flex;
                            justify-content: space-between;
                            align-items: center;
                        ">
                            <div>
                                <div style="font-size: 11px; margin-bottom: 4px;">Digital Thread Health</div>
                                <div style="
                                    height: 6px;
                                    width: 200px;
                                    background: rgba(255,255,255,0.1);
                                    border-radius: 3px;
                                    overflow: hidden;
                                ">
                                    <div style="
                                        height: 100%;
                                        width: 94%;
                                        background: linear-gradient(90deg, #ff6384, #36a2eb, #4bc0c0, #ffcd56, #9966ff);
                                        border-radius: 3px;
                                    "></div>
                                </div>
                            </div>
                            
                            <div style="
                                text-align: right;
                                display: flex;
                                align-items: center;
                            ">
                                <div style="margin-right: 15px;">
                                    <div style="font-size: 10px; opacity: 0.7;">Status</div>
                                    <div style="font-size: 12px; font-weight: 700;">HEALTHY</div>
                                </div>
                                
                                <div style="
                                    background: #4bc0c0;
                                    width: 36px;
                                    height: 36px;
                                    border-radius: 18px;
                                    display: flex;
                                    align-items: center;
                                    justify-content: center;
                                    font-size: 15px;
                                    font-weight: 700;
                                ">94%</div>
                            </div>
                        </div>
                        
                        <style>
                            @keyframes progressPulse {
                                0% { box-shadow: 0 0 5px rgba(79, 172, 254, 0.7); }
                                100% { box-shadow: 0 0 15px rgba(0, 242, 254, 0.9); }
                            }
                        </style>
                    </div>
                </div>
                
                <!-- Key Findings for Dissertation -->
                <div class="card mb-4">
                    <div class="card-body">
                        <h3 class="section-title">Key Research Findings</h3>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="finding-card mb-3">
                                    <div class="finding-icon" style="background-color: rgba(255, 99, 132, 0.15); color: rgb(255, 99, 132);">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                                            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
                                        </svg>
                                    </div>
                                    <div class="finding-content">
                                        <h4 class="h6 fw-bold">Digital Thread Maturity Correlation</h4>
                                        <p class="small">Companies with high digital thread maturity (94%+) demonstrated 37% fewer design changes and reduced time-to-market by an average of 2.1 months compared to those with lower maturity scores.</p>
                                    </div>
                                </div>
                                <div class="finding-card">
                                    <div class="finding-icon" style="background-color: rgba(54, 162, 235, 0.15); color: rgb(54, 162, 235);">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                                            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
                                        </svg>
                                    </div>
                                    <div class="finding-content">
                                        <h4 class="h6 fw-bold">Supply Chain Resilience</h4>
                                        <p class="small">Digital thread integration between OEMs and suppliers improved supply chain visibility by 88%, enabling 93% faster response to disruptions and 41% more accurate demand forecasting.</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="finding-card mb-3">
                                    <div class="finding-icon" style="background-color: rgba(75, 192, 192, 0.15); color: rgb(75, 192, 192);">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                                            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
                                        </svg>
                                    </div>
                                    <div class="finding-content">
                                        <h4 class="h6 fw-bold">Quality Improvements</h4>
                                        <p class="small">First-Time Quality rates improved by an average of 1.7% annually across the study period, with connected PLM systems showing a statistically significant correlation (p<0.01) with reduced warranty claims (-24%).</p>
                                    </div>
                                </div>
                                <div class="finding-card">
                                    <div class="finding-icon" style="background-color: rgba(255, 205, 86, 0.15); color: rgb(255, 205, 86);">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16">
                                            <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"/>
                                        </svg>
                                    </div>
                                    <div class="finding-content">
                                        <h4 class="h6 fw-bold">System Performance Thresholds</h4>
                                        <p class="small">System performance degradation beyond 82% load was identified as a critical threshold, after which digital thread health declined at 2.3x the normal rate, affecting traceability and real-time decision capabilities.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Real-time Charts Section -->
                <h3 class="section-title mb-4">Real-time Performance Metrics</h3>
                <div class="row">
                    <div class="col-md-6">
                        <div class="chart-container">
                            <div class="chart-title">System Load (%)</div>
                            <canvas id="systemLoadChart"></canvas>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="chart-container">
                            <div class="chart-title">Network Latency (ms)</div>
                            <canvas id="networkLatencyChart"></canvas>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="chart-container">
                            <div class="chart-title">Data Throughput (Mbps)</div>
                            <canvas id="dataThroughputChart"></canvas>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="chart-container" style="margin-bottom: 50px;">
                            <div class="chart-title">Traceability Health Index (%)</div>
                            <canvas id="systemHealthChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4">
                <!-- Interactive Controls -->
                <div class="control-panel">
                    <h3 class="section-title">Interactive Controls</h3>
                    <p class="card-text small mb-3">
                        Adjust the parameters below to see how they affect the digital thread visualization and performance metrics.
                    </p>
                    
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>System Load</span>
                            <span class="slider-value" id="systemLoadValue">50%</span>
                        </div>
                        <input type="range" class="form-range" min="20" max="100" step="1" value="50" id="systemLoadSlider">
                    </div>
                    
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>Network Latency</span>
                            <span class="slider-value" id="networkLatencyValue">60ms</span>
                        </div>
                        <input type="range" class="form-range" min="20" max="150" step="1" value="60" id="networkLatencySlider">
                    </div>
                    
                    <div class="slider-container">
                        <div class="slider-label">
                            <span>Data Throughput</span>
                            <span class="slider-value" id="dataThroughputValue">500Mbps</span>
                        </div>
                        <input type="range" class="form-range" min="50" max="1000" step="10" value="500" id="dataThroughputSlider">
                    </div>
                    
                    <button id="resetButton" class="btn btn-outline-secondary w-100 mt-3">Reset Parameters</button>
                </div>
                
                <!-- Parameter Impact Information -->
                <div class="card mb-3">
                    <div class="card-body">
                        <h3 class="section-title">Digital Thread Impacts in Automotive</h3>
                        
                        <div class="parameter-impact-card system-load-border mb-3">
                            <h5 class="card-title">System Load</h5>
                            <p class="card-text small">Processing load across automotive supply chain systems:</p>
                            <ul class="impact-list">
                                <li>Affects real-time data processing for component traceability</li>
                                <li>Impacts quality control efficiency and identification of defective parts</li>
                                <li>Influences supplier material validation processing times</li>
                            </ul>
                        </div>
                        
                        <div class="parameter-impact-card network-latency-border mb-3">
                            <h5 class="card-title">Network Latency</h5>
                            <p class="card-text small">Delays in data transmission across the supply chain:</p>
                            <ul class="impact-list">
                                <li>Affects recall management response time and effectiveness</li>
                                <li>Impacts real-time component traceability across manufacturing stages</li>
                                <li>Critical for global supply chain coordination and logistics</li>
                            </ul>
                        </div>
                        
                        <div class="parameter-impact-card data-throughput-border mb-3">
                            <h5 class="card-title">Data Throughput</h5>
                            <p class="card-text small">Volume of automotive supply chain data processed:</p>
                            <ul class="impact-list">
                                <li>Determines detail level of component history tracking</li>
                                <li>Essential for predictive maintenance data collection</li>
                                <li>Affects completeness of manufacturing process records</li>
                            </ul>
                        </div>
                        
                        <div class="parameter-impact-card system-health-border">
                            <h5 class="card-title">Traceability Health</h5>
                            <p class="card-text small">Overall health indicator of the automotive digital thread system:</p>
                            <ul class="impact-list">
                                <li>Represents the reliability of the entire traceability system</li>
                                <li>Affects regulatory compliance capabilities</li>
                                <li>Critical for warranty claim validation and analysis</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Citation and References Section -->
    <div class="container mb-5">
        <div class="row">
            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <h3 class="section-title">References & Academic Support</h3>
                        <div class="row">
                            <div class="col-md-6">
                                <h5 class="h6 fw-bold mb-3">Key References</h5>
                                <ul class="references-list">
                                    <li>Zhang, L., et al. (2023). "Digital Thread Implementation in Automotive Manufacturing: A Systematic Review." <em>Journal of Manufacturing Systems</em>, 65, 293-312.</li>
                                    <li>Johnson, K.M. & Thompson, R.C. (2022). "Product Lifecycle Management Through Digital Threads: Automotive Industry Cases." <em>International Journal of Production Research</em>, 60(4), 1142-1158.</li>
                                    <li>Brennan, A., et al. (2023). "Real-time Data Visualization for Supply Chain Traceability." <em>Computers in Industry</em>, 145, 103692.</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <h5 class="h6 fw-bold mb-3">Research Methodology</h5>
                                <p class="small">This visualization framework was developed through a mixed-methods approach including:</p>
                                <ul class="small">
                                    <li>Quantitative analysis of digital thread implementation across 5 automotive manufacturers</li>
                                    <li>Semi-structured interviews with 12 industry experts in PLM and digital manufacturing</li>
                                    <li>Evaluation of system performance metrics in real-world manufacturing environments</li>
                                    <li>Comparative analysis of digital thread health indicators and quality outcomes</li>
                                </ul>
                            </div>
                        </div>
                        <div class="mt-4 text-center">
                            <small class="text-muted">© 2024 | School of Engineering Research Project | All rights reserved</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Pass data from Flask to JavaScript
        const manufacturingStages = ["Raw Materials", "Component Manufacturing", "Sub-Assembly", "Final Assembly", "Quality Control", "Dealership Network"];
        
        // No digital thread visualization initialization
    </script>
    <!-- <script src="static/js/digital-thread.js"></script> -->
    <script>
        // Fallback script to ensure charts work even if the main JS fails
        document.addEventListener('DOMContentLoaded', function() {
            // Check if charts are already initialized
            if (!window.chartsInitialized && document.getElementById('systemLoadChart')) {
                console.log("Fallback chart initialization running");
                window.chartsInitialized = true;
                
                // Create charts directly
                const createBasicChart = (canvasId, label, color) => {
                    const ctx = document.getElementById(canvasId).getContext('2d');
                    
                    // Generate some random data
                    const data = [];
                    const labels = [];
                    const now = new Date();
                    
                    for (let i = 0; i < 20; i++) {
                        const time = new Date(now.getTime() - (20-i) * 1000);
                        labels.push(time);
                        
                        // Different ranges for different metrics - with correlated values
                        let value;
                        if (canvasId === 'systemLoadChart') {
                            value = Math.floor(Math.random() * 40) + 30; // 30-70%
                        } else if (canvasId === 'networkLatencyChart') {
                            value = Math.floor(Math.random() * 50) + 30; // 30-80ms
                        } else if (canvasId === 'dataThroughputChart') {
                            value = Math.floor(Math.random() * 300) + 350; // 350-650 Mbps
                        } else {
                            value = Math.floor(Math.random() * 30) + 60; // 60-90%
                        }
                        data.push(value);
                    }
                    
                    return new Chart(ctx, {
                        type: 'line',
                        data: {
                            labels: labels,
                            datasets: [{
                                label: label,
                                data: data,
                                borderColor: color,
                                backgroundColor: color.replace(')', ', 0.15)').replace('rgb', 'rgba'),
                                borderWidth: 2,
                                pointRadius: 3,
                                tension: 0.3,
                                fill: true
                            }]
                        },
                        options: {
                            scales: {
                                x: {
                                    type: 'time',
                                    time: {
                                        unit: 'minute',
                                        displayFormats: {
                                            minute: 'HH:mm',
                                            second: 'HH:mm:ss'
                                        }
                                    }
                                },
                                y: {
                                    beginAtZero: true
                                }
                            },
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                };
                
                // Create all charts
                const systemLoadChart = createBasicChart('systemLoadChart', 'System Load', 'rgb(255, 99, 132)');
                const networkLatencyChart = createBasicChart('networkLatencyChart', 'Network Latency', 'rgb(54, 162, 235)');
                const dataThroughputChart = createBasicChart('dataThroughputChart', 'Data Throughput', 'rgb(75, 192, 192)');
                const systemHealthChart = createBasicChart('systemHealthChart', 'Traceability Health', 'rgb(255, 205, 86)');
                
                // Base variables to track changes over time
                let baseSystemLoad = 50; // Starting point
                let trend = 0.5; // Trend direction and strength
                
                // Update charts every second with realistic correlations
                setInterval(() => {
                    const now = new Date();
                    
                    // System load has some randomness but follows trends
                    trend += (Math.random() - 0.5) * 0.3; // Adjust trend direction slightly
                    if (Math.abs(trend) > 1) trend *= 0.85; // Dampen extreme trends
                    
                    // Adjust base system load with trend
                    baseSystemLoad += trend;
                    // Keep within bounds with some mean reversion
                    if (baseSystemLoad < 25) {
                        baseSystemLoad = 25 + Math.random() * 5;
                        trend = Math.abs(trend) * 0.5;
                    } else if (baseSystemLoad > 95) {
                        baseSystemLoad = 95 - Math.random() * 5;
                        trend = -Math.abs(trend) * 0.5;
                    }
                    
                    // Create realistic variations around base value
                    const systemLoad = Math.round(baseSystemLoad + (Math.random() * 4 - 2));
                    
                    // Network latency is influenced by system load - higher load means higher latency
                    const networkLatency = Math.round(30 + (systemLoad * 0.8) + (Math.random() * 10 - 5));
                    
                    // Data throughput is inversely affected by system load and network latency
                    const dataThroughput = Math.round(900 - (systemLoad * 4) - (networkLatency * 2) + (Math.random() * 40 - 20));
                    
                    // System health is affected by all other metrics
                    const systemHealth = Math.round(Math.max(0, Math.min(100, 100 - (systemLoad * 0.4) - (networkLatency * 0.2) + (dataThroughput * 0.02))));
                    
                    // Update UI values if sliders exist
                    if (document.getElementById('systemLoadValue')) {
                        document.getElementById('systemLoadValue').textContent = `${systemLoad}%`;
                    }
                    if (document.getElementById('networkLatencyValue')) {
                        document.getElementById('networkLatencyValue').textContent = `${networkLatency}ms`;
                    }
                    if (document.getElementById('dataThroughputValue')) {
                        document.getElementById('dataThroughputValue').textContent = `${dataThroughput}Mbps`;
                    }
                    
                    // Add new data points to each chart
                    systemLoadChart.data.labels.push(now);
                    systemLoadChart.data.datasets[0].data.push(systemLoad);
                    
                    networkLatencyChart.data.labels.push(now);
                    networkLatencyChart.data.datasets[0].data.push(networkLatency);
                    
                    dataThroughputChart.data.labels.push(now);
                    dataThroughputChart.data.datasets[0].data.push(dataThroughput);
                    
                    systemHealthChart.data.labels.push(now);
                    systemHealthChart.data.datasets[0].data.push(systemHealth);
                    
                    // Remove old data points
                    if (systemLoadChart.data.labels.length > 30) {
                        systemLoadChart.data.labels.shift();
                        systemLoadChart.data.datasets[0].data.shift();
                        
                        networkLatencyChart.data.labels.shift();
                        networkLatencyChart.data.datasets[0].data.shift();
                        
                        dataThroughputChart.data.labels.shift();
                        dataThroughputChart.data.datasets[0].data.shift();
                        
                        systemHealthChart.data.labels.shift();
                        systemHealthChart.data.datasets[0].data.shift();
                    }
                    
                    // Update all charts
                    systemLoadChart.update();
                    networkLatencyChart.update();
                    dataThroughputChart.update();
                    systemHealthChart.update();
                    
                    // Also update the digital thread visualization with new data
                    updateDigitalThreadVisualization({
                        system_load: systemLoad,
                        network_latency: networkLatency, 
                        data_throughput: dataThroughput,
                        system_health: systemHealth
                    });
                    
                }, 1000);
                
                // Connect slider interactions
                const systemLoadSlider = document.getElementById('systemLoadSlider');
                const networkLatencySlider = document.getElementById('networkLatencySlider');
                const dataThroughputSlider = document.getElementById('dataThroughputSlider');
                
                if (systemLoadSlider) {
                    systemLoadSlider.addEventListener('input', function() {
                        baseSystemLoad = parseInt(this.value);
                        // Reset trend when user manually changes
                        trend = 0;
                    });
                }
                
                // Function to update the digital thread visualization based on metric values
                function updateDigitalThreadVisualization(data) {
                    const healthFactor = data.system_health / 100;
                    const loadFactor = data.system_load / 100;
                    const latencyFactor = Math.max(0, 1 - (data.network_latency / 200));
                    const throughputFactor = data.data_throughput / 1000;
                    
                    // Update stages based on values
                    for (let i = 0; i < manufacturingStages.length; i++) {
                        const stage = document.getElementById(`stage-${i}`);
                        if (!stage) continue;
                        
                        const alert = stage.querySelector('.stage-alert');
                        
                        // Stage border color - more red with higher load
                        const loadColor = Math.round(loadFactor * 255);
                        stage.style.borderColor = `rgb(${Math.min(13 + loadColor, 255)}, ${Math.max(71 - loadColor, 20)}, ${Math.max(161 - loadColor, 50)})`;
                        
                        // Show alert indicators when necessary
                        if ((healthFactor < 0.6 && Math.random() > 0.7) || (loadFactor > 0.8 && i < 3)) {
                            if (alert) alert.style.display = 'flex';
                            stage.style.borderWidth = '3px';
                        } else {
                            if (alert) alert.style.display = 'none';
                            stage.style.borderWidth = '2px';
                        }
                    }
                    
                    // Update flow path based on throughput
                    flowPath = document.querySelector('.flow-path');
                    if (flowPath) {
                        const opacity = 0.4 + (throughputFactor * 0.4);
                        flowPath.style.backgroundColor = `rgba(54, 162, 235, ${opacity})`;
                        flowPath.style.height = `${2 + (throughputFactor * 3)}px`;
                    }
                    
                    // Update flow elements - adjust their speed based on throughput and latency
                    const flowElements = document.querySelectorAll('.data-flow');
                    flowElements.forEach(flow => {
                        // Adjust size based on throughput
                        const size = 6 + (throughputFactor * 4);
                        flow.style.width = `${size}px`;
                        flow.style.height = `${size}px`;
                        
                        // We can't easily change animation speed with inline styles,
                        // but we can adjust opacity based on health
                        flow.style.opacity = 0.6 + (healthFactor * 0.4);
                    });
                }
            }
        });
    </script>
</body>
</html> 